"<br>t-value:", round(t.value,3)),  # Custom hover text
hoverinfo = 'text',  # Display only the custom text
error_y = ~list(array = conf.high - Estimate,
arrayminus = Estimate - conf.low),
type = 'scatter',
mode = 'markers',
symbol = ~reg,
color = ~type ) %>%
layout(title = "The effect of Disabilities on Propensity to Telework",
xaxis = list(title = "",
tickmode = "array",
tickvals = midpoints,
ticktext = ticktext),
yaxis = list(title = "Coefficient Estimate"),
legend = list(title = list(text = 'Dependent Variable'))
)
P <- P %>%
layout(shapes = list(
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 6.5,
x1 = 6.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 12.5,
x1 = 12.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 18.5,
x1 = 18.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 24.5,
x1 = 24.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 30.5,
x1 = 30.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 36.5,
x1 = 36.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
)
))
P
htmlwidgets::saveWidget(
widget = P, #the plotly object
file = "Dis. Effect by Type.html", #the path & file name
selfcontained = TRUE #creates a single html file
)
P <- plot_ly(all_results,
x = ~row_num,
y = ~Estimate,
text = ~paste("Model Type:", model,
"<br>Dependent Variable Type:", dependent,
"<br>Effect Size:", round(Estimate,3),
"<br>t-value:", round(t.value,3)),  # Custom hover text
hoverinfo = 'text',  # Display only the custom text
error_y = ~list(array = conf.high - Estimate,
arrayminus = Estimate - conf.low),
type = 'scatter',
mode = 'markers',
symbol = ~reg,
color = ~type ) %>%
layout(title = "The effect of Disabilities on Propensity to Telework",
xaxis = list(title = "",
tickmode = "array",
tickvals = midpoints,
ticktext = ticktext),
yaxis = list(title = "Coefficient Estimate"),
legend = list(title = list(text = 'Dependent Variable'))
)
P <- P %>%
layout(shapes = list(
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 1,
x1 = 1,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 7,
x1 = 7,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 14,
x1 = 14,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 21,
x1 = 21,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 28,
x1 = 28,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 35,
x1 = 35,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
)
))
P
htmlwidgets::saveWidget(
widget = P, #the plotly object
file = "Dis. Effect by Type.html", #the path & file name
selfcontained = TRUE #creates a single html file
)
startpoints <- c(1,7,14,21,28,35)
midpoints <- tapply(all_results$row_num, all_results$dependent,
function(x) mean(range(x)))
ticktext <- unique(all_results$dependent)
P <- plot_ly(all_results,
x = ~row_num,
y = ~Estimate,
text = ~paste("Model Type:", model,
"<br>Dependent Variable Type:", dependent,
"<br>Effect Size:", round(Estimate,3),
"<br>t-value:", round(t.value,3)),  # Custom hover text
hoverinfo = 'text',  # Display only the custom text
error_y = ~list(array = conf.high - Estimate,
arrayminus = Estimate - conf.low),
type = 'scatter',
mode = 'markers',
symbol = ~reg,
color = ~type ) %>%
layout(title = "The effect of Disabilities on Propensity to Telework",
xaxis = list(title = "",
tickmode = "array",
tickvals = startpoints,
ticktext = ticktext),
yaxis = list(title = "Coefficient Estimate"),
legend = list(title = list(text = 'Dependent Variable'))
)
P <- P %>%
layout(shapes = list(
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 6.5,
x1 = 6.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 12.5,
x1 = 12.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 18.5,
x1 = 18.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 24.5,
x1 = 24.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 30.5,
x1 = 30.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 36.5,
x1 = 36.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
)
))
P
startpoints <- c(1,7,14,21,28,35,42)
midpoints <- tapply(all_results$row_num, all_results$dependent,
function(x) mean(range(x)))
ticktext <- unique(all_results$dependent)
P <- plot_ly(all_results,
x = ~row_num,
y = ~Estimate,
text = ~paste("Model Type:", model,
"<br>Dependent Variable Type:", dependent,
"<br>Effect Size:", round(Estimate,3),
"<br>t-value:", round(t.value,3)),  # Custom hover text
hoverinfo = 'text',  # Display only the custom text
error_y = ~list(array = conf.high - Estimate,
arrayminus = Estimate - conf.low),
type = 'scatter',
mode = 'markers',
symbol = ~reg,
color = ~type ) %>%
layout(title = "The effect of Disabilities on Propensity to Telework",
xaxis = list(title = "",
tickmode = "array",
tickvals = startpoints,
ticktext = ticktext),
yaxis = list(title = "Coefficient Estimate"),
legend = list(title = list(text = 'Dependent Variable'))
)
P <- P %>%
layout(shapes = list(
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 6.5,
x1 = 6.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 12.5,
x1 = 12.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 18.5,
x1 = 18.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 24.5,
x1 = 24.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 30.5,
x1 = 30.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 36.5,
x1 = 36.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
)
))
P
htmlwidgets::saveWidget(
widget = P, #the plotly object
file = "Dis. Effect by Type.html", #the path & file name
selfcontained = TRUE #creates a single html file
)
P <- plot_ly(all_results,
x = ~row_num,
y = ~Estimate,
text = ~paste("Model Type:", model,
"<br>Dependent Variable Type:", dependent,
"<br>Effect Size:", round(Estimate,3),
"<br>t-value:", round(t.value,3)),  # Custom hover text
hoverinfo = 'text',  # Display only the custom text
error_y = ~list(array = conf.high - Estimate,
arrayminus = Estimate - conf.low),
type = 'scatter',
mode = 'markers',
symbol = ~reg,
color = ~type ) %>%
layout(title = "The effect of Disabilities on Propensity to Telework",
xaxis = list(title = "",
tickmode = "array",
tickvals = midpoints,
ticktext = ticktext),
yaxis = list(title = "Coefficient Estimate"),
legend = list(title = list(text = 'Dependent Variable'))
)
P <- P %>%
layout(shapes = list(
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 6.5,
x1 = 6.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 12.5,
x1 = 12.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 18.5,
x1 = 18.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 24.5,
x1 = 24.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 30.5,
x1 = 30.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
),
list(
type = 'line',
line = list(
color = 'grey',
width = 2,
dash = 'dash'
),
x0 = 36.5,
x1 = 36.5,
y0 = min(all_results$conf.low),  # Replace with the minimum y-value you want the line to start at
y1 = max(all_results$conf.high)  # Replace with the maximum y-value you want the line to end at
)
))
P
htmlwidgets::saveWidget(
widget = P, #the plotly object
file = "Dis. Effect by Type.html", #the path & file name
selfcontained = TRUE #creates a single html file
)
